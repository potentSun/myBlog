---
title: JavaScript闭包
date: 2018-03-14 14:41:32
tags:
- JavaScript
categories:
- JavaScript
---

### 什么是闭包？
举个例子
```js
    function foo(){
        var a =2;

        function bar(){
            console.log(a);
        }

        return bar;
    }
    var baz = foo();
    baz(); //2
```
这就是闭包的效果，可以在自己的词法作用域以外的地方执行。
一般来讲，当函数执行完毕后，局部活动对象就会销毁，内存仅保存全局作用域。但是，闭包的情况不同，closure函数执行完毕后，其活动对象不会销毁，因为匿名函数的作用域链仍然引用这个活动对象。直到匿名函数被销毁后，closure函数的活动对象才会被销毁。

### 闭包的好处与坏处

闭包的好处有：
1.缓存
2.面向对象中的对象
3.实现封装，防止变量跑到外层作用域中，发生命名冲突
4.匿名自执行函数，匿名自执行函数可以减小内存消耗

闭包的坏处有：
1.内存消耗
2.性能问题
